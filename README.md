# popcorn-game
Implementation of the 1988 game PopCorn
# 1. Опис на апликацијата
Оваа игра е имплементација на играта PopCorn. Играчот ја контролира палката за да ги погоди објектите - цигли
со топчето и притоа да спречи топчето да падне. При стартување на апликацијата, се отвара Title форма во која играчот го внесува името и 
може да одбере Нова игра, да ја види формата за Помош, или излез од апликацијата. Палката се движи со лево и десно копче на тастатурата а и 
во секој момент може да се притисне ESC со што ќе се појави формата за помош. При удар со цигла може да се појават букви кои имаат различни
функционалности. Крајот на играта е доколку се изгубат сите животи или доколку се победат трите нивоа.

# 2. Форми
Оваа игра се состои од три форми: Title form - почетно мени, Help Form - форма со објаснување на начинот на игра и Game Form - форма во која
се одвива играњето на играта. (Прикажани во делот Начин на игра).

# 3. Класи
* __Ball__ - класа за топчето во играта. Има Draw метод за исцртување на топчето, Move метод за движење на топчето што се повикува со тајмер, и методи за проверка на судар со палката, границите и циглите. Тука се чуваат и звучните ефекти.
* __Brick__ - класа за објектите - цигли. Има Draw метод за исцртување.
* __Letter__ - класа за буквите. Во конструкторот со Random се назначува буква од A - G. Има Draw метод за исцртување и Move метод кој ja движи надоле по Y.
* __Paddle__ - класа за палката. Има Draw метод за исцртување, Move метод кој ја движи во зависност дали е притиснато лево или десно копче и метод за проверка 
на колизија со буква.
* __Bullet__ - класа за креирање на куршуми. Доколку играчот ја земе буквата B добива можност да пука со палката. Со притискање на Space се креира нов куршум.
Има метод Draw за исцртување, Move кој го движи куршумот нагоре по Y, и метод за проверка на колизија со цигла. 
* __Scene__ - во оваа класа се креираат инстанци од претходните класи и методи за Game play.

# 4. Опис на една класа - Scene
Класата Scene чува листа на цигли, букви и куршуми, чува и палка и топче и променливи за границата, поени, број на животи.
Има методи за формацијата на циглите, addBricks() - за почетното прво ниво, level2() за второ ниво, level3() за трето ниво. 
Пример за формацијата на второто ниво:
``` C#
public void level2() 
        {
            //Level 2 - brick formation
            pointValue = 20;  //In level 2 bricks are worth 20 points
            ball = new Ball();
            paddle = new Paddle();
            letters.Clear();
            bullets.Clear();
            int milliseconds = 2000; // 2 second delay before starting the level
            Thread.Sleep(milliseconds);
            point = new Point(20, 40);
            int k = 2; int s = 1;
            for (int i = 0; i < 5; i++)
            {
                for (int j = 0; j < 9; j++)
                {
                    if (i == 4)
                    {
                        if (j % 2 == 0) bricks.Add(new Brick(point.X, point.Y + j * height, Color.Magenta));
                        point = new Point(point.X, point.Y + 10);
                    }
                    else
                    {
                        if (j % 2 == 0) bricks.Add(new Brick(point.X, point.Y + j * height, Color.Magenta));
                        else bricks.Add(new Brick(20 + 60 * s, point.Y + j * height, Color.Aquamarine));
                        point = new Point(point.X, point.Y + 10);
                    }
                }
                point = new Point(20 + k * width, 40);
                k += 2; s += 2;
            } 
        }
```
![Level 2](images/7%20-%20level2.jpg) *Второ ниво*
![Level 3](images/8%20-%20level3.jpg) *Трето ниво*

Метод Draw исцртува граница, циглите, топчето, букви доколку има отворени, и куршуми. 
Има две Move функции, Move(Keys key) за движење на палката, и Move() за движење на топчето, куршумите и буквите. Во оваа функција се повикуваат и функциите
changeDirection() и brickCollision() од класата Ball за проверка на колизија на топчето, brickCollision од класата Bullet за проверка на колизија на 
секој од куршумите со циглите, removeBricks() и removeBullets() кои проверуваат дали се погодени куршумите и циглите и ако се ги отстрануваат од листите, функцијата
deadBall() проверува дали bool променливата isDead во класата Ball е true - ако е тоа означува дека е изгубен живот. Функцијата removeLetters проверува која буква 
е погодена и ја повикува соодветната функција:
```C#
public void removeLetters()
        {
            for (int i = 0; i < letters.Count; i++)
            {
                if (letters[i].isHit)
                {
                    points += 20;
                    if (letters[i].letter == 'A') slowerBall();
                    else if (letters[i].letter == 'B') { removeGifts(); paddle.Color = Color.DarkBlue; canShoot = true; }
                    else if (letters[i].letter == 'C') fasterBall();
                    else if (letters[i].letter == 'D') loseLife();
                    else if (letters[i].letter == 'E') extendPaddle();
                    else if (letters[i].letter == 'F') addScore();
                    else if (letters[i].letter == 'G') addLife();

                    letters.RemoveAt(i);
                }
            }
        }
```
* A - slowerBall() - ја намалува брзината на топчето
* B - shoot() - со притискање на space се креираат куршуми
* C - fasterBall() - ја зголемува брзината
* D - loseLife() - намалува живот
* E - extendPaddle() - ја зголемува должината на палката
* F - addScore() - се додаваат плус 50 поени
* G - addLife() - додава живот

Последната функција е removeGifts() со која се отстрануваат сите функционалности при земање на друга буква.

# 4. Начин на игра
Почетен екран со поле за внес на име и три опции - Нова игра, Помош и Излез. 

<img src="/images/1-%20title.jpg">

Екранот за помош ги опишува функционалностите на буквите и начин на бодување.

<img src="/images/3%20-%20help.jpg">

Екранот за игра - палката се движи со левата и десната стрелка со цел да се погодуваат циглите и да не падне топчето. Од страна има
информации за: Име на играч, Поени, Број на животи и Број на ниво. Во секој момент играта може да се паузира со копчето ESC и да се
врати кон почетен екран или кон играта. На долниот дел од екран се прикажува бројот на останати цигли. Кога ќе се исчистат сите цигли се преминува на наредно ниво - прикажани на сликите погоре.

<img src="/images/2%20-%20GameForm.jpg">

Во текот на играта паѓаат букви по случаен избор. Функционалностите на буквите се: A - намалува брзина на топче, B - пукање, C -
зголемување на брзина на топче, D - губи живот, E - издолжување на палка, F - плус 50 поени, G - добивање живот.
На сликата подоле моментално е фатена буквата Е, која ја издолжува палката. 
Доколку се фати буквата што паѓа - B, палката ќе може да пука куршуми за уништување на циглите. 

<img src="/images/5%20-%20fallingLetter.jpg">

На оваа слика е прикажан ефектот од буквата B.

<img src="/images/6%20-%20shootingBullets.jpg">

До крај на играта се доаѓа доколку играчот ги победи трите нивоа - победува, или доколку топчето му падне а нема веќе животи (буквата 
G дава живот, D одзема живот) - губи.

<img src="/images/9%20-%20youWon.jpg"> *Победник*
<img src="/images/4%20-%20gameOver.jpg"> *Губитник*
